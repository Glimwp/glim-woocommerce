{"version":3,"file":"js/ReviewForm.js","mappings":"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","sources":["webpack://glim-woocommerce/./src/js/reviews/form/Notification.js","webpack://glim-woocommerce/./src/js/reviews/form/SuggestTitle.js","webpack://glim-woocommerce/./src/js/reviews/form/index.js"],"sourcesContent":["import { renderToString as _render } from '../functions';\r\n\r\nconst { Template = { renderToString: _render } } = window.glimfse || {};\r\n\r\nexport default ({ userData = {}, note, options }) => {\r\n\tconst { product: { title: productTitle } } = options;\r\n\tconst { reviewer: userName = 'visitor' } = userData;\r\n\r\n\treturn (note && <div {...{\r\n\t\tclassName: 'woocommerce-Reviews__respond-note',\r\n\t\tdangerouslySetInnerHTML: { __html: Template.renderToString(note, { userName, productTitle }) },\r\n\t}} />);\r\n};","const {\r\n\ti18n: { __ },\r\n\thooks: { applyFilters },\r\n\telement: { useEffect, useState },\r\n} = wp;\r\n\r\nconst RATING_SUGGESTIONS = applyFilters('glimfse.woocommerce.reviews.rating.suggestions', {\r\n\t1: [__('Not recommended', 'glim-woocommerce'), __('Very weak', 'glim-woocommerce'), __('Not happy', 'glim-woocommerce')],\r\n\t2: [__('Weak', 'glim-woocommerce'), __('I don\\'t like it', 'glim-woocommerce'), __('Disappointing', 'glim-woocommerce')],\r\n\t3: [__('Decent', 'glim-woocommerce'), __('Acceptable', 'glim-woocommerce'), __('Ok', 'glim-woocommerce')],\r\n\t4: [__('Happy', 'glim-woocommerce'), __('I like it', 'glim-woocommerce'), __('Is worth it', 'glim-woocommerce'), __('Good', 'glim-woocommerce')],\r\n\t5: [__('Excelent', 'glim-woocommerce'), __('Very satisfied', 'glim-woocommerce'), __('Recommended', 'glim-woocommerce'), __('Cool', 'glim-woocommerce')],\r\n});\r\n\r\nexport default ({ rating: star = 5, setTitle }) => {\r\n\r\n\tconst [current, setCurrent] = useState(RATING_SUGGESTIONS[star]);\r\n\r\n\tuseEffect(() => setCurrent(RATING_SUGGESTIONS[star]), [star]);\r\n\r\n\tconst onClick = (e) => {\r\n\t\tconst value = e.currentTarget.textContent;\r\n\t\tsetTitle(value);\r\n\t\tdocument.forms['glim-woo-addreview'].elements['title'].value = value;\r\n\t};\r\n\r\n\tconst Button = ({ key, label }) => {\r\n\t\tconst props = { type: 'button', className: 'wp-element-button has-accent-background-color has-black-color', key, onClick };\r\n\t\treturn (<button {...props}>{label}</button>);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"woocommerce-Reviews__suggestions\" style={{ display: 'flex', flexWrap: 'wrap', alignItems: 'center', gap: '.5rem' }}>\r\n\t\t\t{current.map((x, y) => <Button key={y} label={x} />)}\r\n\t\t</div>\r\n\t);\r\n};","import { useForm } from 'react-hook-form';\r\nimport SuggestTitle from './SuggestTitle';\r\nimport Notification from './Notification';\r\nimport RatingInput from '../shared/RatingInput';\r\n\r\nconst {\r\n\ti18n: { __ },\r\n\thooks: { doAction },\r\n\telement: { useState },\r\n} = wp;\r\n\r\nexport default ({ rating, setRating, queryArgs, setQueryArgs, userData = false, options, breakpoint }) => {\r\n\tconst { product: { ID: productId }, terms, note, requestUrl } = options;\r\n\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [message, setMessage] = useState(false);\r\n\r\n\tconst { handleSubmit, register, reset: resetForm, formState: { errors }, setValue } = useForm({\r\n\t\tmode: 'onSubmit',\r\n\t});\r\n\r\n\tconst setTitle = (value) => setValue('title', value);\r\n\r\n\tconst onSubmit = async (values, e) => {\r\n\t\tif (loading) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('action', 'review');\r\n\t\tformData.append('product_id', productId);\r\n\r\n\t\tObject.keys(values).map(k => formData.append(k, values[k]));\r\n\r\n\t\tif (userData) {\r\n\t\t\tObject.keys(userData).map(k => formData.append(k, userData[k]));\r\n\t\t}\r\n\r\n\t\tsetLoading(true);\r\n\r\n\t\ttry {\r\n\t\t\tconst r = await fetch(requestUrl, {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tbody: formData,\r\n\t\t\t});\r\n\r\n\t\t\tconst { message } = await r.json();\r\n\r\n\t\t\tsetMessage(message);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.warn(e);\r\n\t\t\tsetMessage(e);\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t\t// Reset Rating\r\n\t\t\tsetTimeout(() => setRating(false), 3000);\r\n\t\t\t// Reset Reviews\r\n\t\t\tresetForm();\r\n\t\t\tsetQueryArgs({ ...queryArgs });\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"woocommerce-Reviews__respond\">\r\n\t\t\t<div className=\"grid\">\r\n\t\t\t\t{note && <div className=\"span-12 span-lg-4 start-lg-9\">\r\n\t\t\t\t\t<Notification {...{ userData, note, options }} />\r\n\t\t\t\t</div>}\r\n\t\t\t\t<div className=\"span-12 span-lg-7\" style={{ gridRow: breakpoint === 'mobile' ? 'initial' : 1 }}>\r\n\t\t\t\t\t<form className=\"woocommerce-Reviews__respond-form\" name=\"glim-woo-addreview\" onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t\t\t{doAction('glimfse.woocommerce.reviews.newReview.top', register, errors, options)}\r\n\t\t\t\t\t\t<div className=\"woocommerce-Reviews__respond-field\">\r\n\t\t\t\t\t\t\t<div className=\"mb-spacer\">\r\n\t\t\t\t\t\t\t\t<RatingInput {...{ rating, onClick: setRating }}>\r\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"rating\" value={rating}\r\n\t\t\t\t\t\t\t\t\t\t{...register('rating', {\r\n\t\t\t\t\t\t\t\t\t\t\tvalidate: value => value !== 0,\r\n\t\t\t\t\t\t\t\t\t\t\tminLength: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tmaxLength: 5\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</RatingInput>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{!userData && <div className=\"woocommerce-Reviews__respond-field grid\">\r\n\t\t\t\t\t\t\t<div className=\"mb-spacer span-12 span-md-6\">\r\n\t\t\t\t\t\t\t\t<label for=\"reviewer\">{__('Name', 'glim-woocommerce')}:</label>\r\n\t\t\t\t\t\t\t\t<input className=\"form-control\" type=\"text\" id=\"reviewer\" placeholder={__('Name', 'glim-woocommerce')}\r\n\t\t\t\t\t\t\t\t\t{...register('reviewer', {\r\n\t\t\t\t\t\t\t\t\t\trequired: __('What is your name?', 'glim-woocommerce'),\r\n\t\t\t\t\t\t\t\t\t\tvalidate: value => value !== 'admin' || __('Nice Try', 'glim-woocommerce'),\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors.reviewer && <em class=\"invalid-feedback\" style={{ display: 'block' }}>{errors.reviewer.message}</em>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mb-spacer span-12 span-md-6\">\r\n\t\t\t\t\t\t\t\t<label for=\"reviewer_email\">{__('Email', 'glim-woocommerce')}:</label>\r\n\t\t\t\t\t\t\t\t<input className=\"form-control\" type=\"email\" id=\"reviewer_email\" placeholder={__('Email', 'glim-woocommerce')}\r\n\t\t\t\t\t\t\t\t\t{...register('reviewer_email', {\r\n\t\t\t\t\t\t\t\t\t\trequired: __('What is your email address?', 'glim-woocommerce'),\r\n\t\t\t\t\t\t\t\t\t\tpattern: {\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i,\r\n\t\t\t\t\t\t\t\t\t\t\tmessage: __('Invalid email address.', 'glim-woocommerce')\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors.reviewer_email && <em class=\"invalid-feedback\" style={{ display: 'block' }}>{errors.reviewer_email.message}</em>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>}\r\n\t\t\t\t\t\t<div className=\"woocommerce-Reviews__respond-field\">\r\n\t\t\t\t\t\t\t<div className=\"mb-spacer\">\r\n\t\t\t\t\t\t\t\t<label for=\"review_title\">{__('Review title (optional)', 'glim-woocommerce')}:</label>\r\n\t\t\t\t\t\t\t\t<input className=\"form-control\" type=\"text\" id=\"review_title\" placeholder={__('Use a suggestion or write your own title', 'glim-woocommerce')} {...register('title')} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mb-spacer\">\r\n\t\t\t\t\t\t\t\t<SuggestTitle rating={rating} setTitle={setTitle} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"woocommerce-Reviews__respond-field\">\r\n\t\t\t\t\t\t\t<div className=\"mb-spacer\">\r\n\t\t\t\t\t\t\t\t<label for=\"review\">{__('Review', 'glim-woocommerce')}:</label>\r\n\t\t\t\t\t\t\t\t<textarea className=\"form-control\" id=\"review\" rows=\"7\" required=\"\" placeholder={__('Describe your experience with the product', 'glim-woocommerce')}\r\n\t\t\t\t\t\t\t\t\t{...register('review', {\r\n\t\t\t\t\t\t\t\t\t\trequired: __('This cannot be empty!', 'glim-woocommerce'),\r\n\t\t\t\t\t\t\t\t\t\tminLength: 20\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors.review && <em class=\"invalid-feedback\" style={{ display: 'block' }}>{\r\n\t\t\t\t\t\t\t\t\terrors.review.type === 'minLength' ? __('Please be more descriptive.', 'glim-woocommerce') : errors.review.message\r\n\t\t\t\t\t\t\t\t}</em>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{doAction('glimfse.woocommerce.reviews.newReview.bottom', register, errors, options)}\r\n\t\t\t\t\t\t{terms && <div className=\"woocommerce-Reviews__respond-field woocommerce-Reviews__respond-field--terms\">\r\n\t\t\t\t\t\t\t<div className=\"mb-spacer\">\r\n\t\t\t\t\t\t\t\t<p className=\"has-small-font-size has-cyan-bluish-gray-color\" dangerouslySetInnerHTML={{ __html: terms }} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>}\r\n\t\t\t\t\t\t<div className=\"woocommerce-Reviews__respond-field\">\r\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"wp-element-button has-primary-background-color\" {...{ disabled: loading === true }}>{\r\n\t\t\t\t\t\t\t\t__('Add Review', 'glim-woocommerce')\r\n\t\t\t\t\t\t\t}</button>\r\n\t\t\t\t\t\t\t<span> &nbsp; </span>\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" onClick={() => setRating(false)} className=\"wp-element-link\">{\r\n\t\t\t\t\t\t\t\t__('Cancel', 'glim-woocommerce')\r\n\t\t\t\t\t\t\t}</a>\r\n\t\t\t\t\t\t\t{message && <div className=\"has-accent-background-color\" style={{ padding: '1rem', marginTop: '1rem', borderRadius: '.25rem' }}>{message}</div>}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form >\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};"],"names":["renderToString","_render","Template","window","glimfse","userData","note","options","product","title","productTitle","reviewer","userName","createElement","className","dangerouslySetInnerHTML","__html","i18n","__","hooks","applyFilters","element","useEffect","useState","wp","RATING_SUGGESTIONS","rating","star","setTitle","current","setCurrent","onClick","e","value","currentTarget","textContent","document","forms","elements","Button","key","label","props","type","style","display","flexWrap","alignItems","gap","map","x","y","useForm","SuggestTitle","Notification","RatingInput","doAction","setRating","queryArgs","setQueryArgs","breakpoint","ID","productId","terms","requestUrl","loading","setLoading","message","setMessage","handleSubmit","register","reset","resetForm","formState","errors","setValue","mode","onSubmit","values","formData","FormData","append","Object","keys","k","r","fetch","method","body","json","console","warn","setTimeout","gridRow","name","_extends","validate","minLength","maxLength","for","id","placeholder","required","class","pattern","reviewer_email","rows","review","disabled","href","padding","marginTop","borderRadius"],"sourceRoot":""}