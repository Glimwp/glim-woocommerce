"use strict";(globalThis.webpackChunkGLIM_woocommerce=globalThis.webpackChunkGLIM_woocommerce||[]).push([[768],{74:(e,t,a)=>{a.r(t),a.d(t,{App:()=>he});var n=a(462),r=a(307),o=a(515);const{i18n:{__,sprintf:s}}=wp,c=({setRating:e,userData:{reviewer:t=!1},options:a={}})=>{const{product:{verify:n=!1}}=a,c=!1===t&&n;return(0,r.createElement)("div",{className:"woocommerce-Reviews__summary-new"},c?(0,r.createElement)(r.Fragment,null,(0,r.createElement)("p",{className:"woocommerce-Reviews__summary-message",dangerouslySetInnerHTML:{__html:n}})):(0,r.createElement)(r.Fragment,null,(0,r.createElement)("p",{className:"has-normal-font-size",style:{marginBottom:10}},(0,r.createElement)("strong",null,t?s(__("Hey %s. Welcome back!","glim-woocommerce"),t):__("Do you own or used the product?","glim-woocommerce"))),(0,r.createElement)("p",{className:"has-small-font-size has-cyan-bluish-gray-color",style:{marginBottom:10}},__("Tell your opinion by giving it a rating","glim-woocommerce")),(0,r.createElement)(o.Z,{onClick:e,style:{marginBottom:10}}),(0,r.createElement)("button",{className:"wp-element-button has-primary-background-color has-small-font-size",onClick:()=>e(5)},__("Add a review","glim-woocommerce"))))};var i=a(550);const l=({rating:e=0,percent:t=!1,className:a="has-medium-font-size"})=>{const n=e=>[5,4,3,2,1].map((t=>{const a=["has-background",parseInt(e)===t?"active":""].filter(Boolean).join(" ");return(0,r.createElement)("button",{className:a,key:t},(0,r.createElement)(i.Z,{icon:"rating"}))}));return(0,r.createElement)("div",{className:`woocommerce-Reviews__rating ${a}`},(0,r.createElement)("div",{className:"woocommerce-Reviews__rating-range"},n(!t&&e)),t&&(0,r.createElement)("div",{className:"woocommerce-Reviews__rating-overlay",style:{width:(e/5*100).toString()+"%",overflow:"hidden"}},(0,r.createElement)("div",{className:"woocommerce-Reviews__rating-range"},n(t))))},{i18n:{_n,sprintf:m}}=wp,d=({average:e=0,total:t=0})=>{const a=_n("%s review","%s reviews",t,"glim-woocommerce");return(0,r.createElement)("div",{className:"woocommerce-Reviews__summary-info is-layout-flow",style:{textAlign:"center"}},(0,r.createElement)("h3",{style:{lineHeight:1,fontWeight:700}},parseFloat(e).toFixed(2)),(0,r.createElement)(l,{rating:e,percent:5}),(0,r.createElement)("p",{className:"has-small-font-size has-cyan-bluish-gray-color"},m(a,t)))},{i18n:{_n:p,sprintf:u}}=wp,w=({amount:e={1:0,2:0,3:0,4:0,5:0},total:t=0,queryArgs:a,setQueryArgs:n})=>{const o=e=>{e.preventDefault();const t=document.forms["glim-woo-filters"],r=e.currentTarget.dataset.value,o=t.elements.rating;r!==o.value&&(o.value=r,n({...a,rating:r}))};return(0,r.createElement)("div",{className:"woocommerce-Reviews__summary-bars",style:{display:"table",width:"100%"}},Array(5).fill().reverse().map(((a,n)=>{const s=5-n,c=e[s],i=(c?c/t*100:0).toString()+"%",l=u(p("%s star","%s stars",s,"glim-woocommerce"),s),m={display:"table-cell",paddingTop:8,paddingBottom:8,whiteSpace:"nowrap",lineHeight:1};return(0,r.createElement)("a",{key:n,href:parseInt(c)?"javascript:void(0);":null,onClick:0!==parseInt(c)?o:null,style:{display:"table-row",backgroundColor:"transparent"},"data-value":s},(0,r.createElement)("span",{style:m},l),(0,r.createElement)("span",{style:{...m,padding:8,width:"100%"}},(0,r.createElement)("div",{className:"has-accent-background-color",style:{width:"100%",borderRadius:50,overflow:"hidden"}},(0,r.createElement)("div",{className:"has-primary-background-color",role:"progressbar",style:{width:i,minHeight:12}}))),(0,r.createElement)("span",{style:m},"(",c,")"))})))},{i18n:{__:g},element:{useRef:v,useEffect:h}}=wp,y=({average:e=0,verified:t=0,verifiedBadge:a})=>{var n;const o=v();return h((()=>{o.current=t}),[t]),(0,r.createElement)("div",{className:"woocommerce-Reviews__summary-stats"},(0,r.createElement)("div",{className:"woocommerce-Reviews__summary-stats__1"},(0,r.createElement)(i.Z,{icon:"recommend",style:{marginRight:15}}),(0,r.createElement)("span",{className:"has-black-color"},(0,r.createElement)("strong",null,parseInt(e/5*100)+"%")),(0,r.createElement)("div",{className:"has-small-font-size has-cyan-bluish-gray-color"},g("of the clients recommend the product","glim-woocommerce"))),a&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"my-spacer has-border"}),(0,r.createElement)("div",{className:"woocommerce-Reviews__summary-stats__2"},(0,r.createElement)(i.Z,{icon:"verified",style:{marginRight:15}}),(0,r.createElement)("span",{className:"has-black-color"},(0,r.createElement)("strong",null,null!==(n=o.current)&&void 0!==n?n:t),"  "),(0,r.createElement)("div",{className:"has-small-font-size has-cyan-bluish-gray-color"},g("of the reviews are verified purchases","glim-woocommerce")))))},E=({options:e,rating:t,setRating:a,queryArgs:o,setQueryArgs:s,userData:i,meta:l,breakpoint:m})=>{let p={1:0,2:0,3:0,4:0,5:0};const{product:{average:u,total:g,counts:v},verified:h}=e,{verified:E}=l;p={...p,...v};const f={amount:p,average:u,total:g};return(0,r.createElement)("div",{className:"woocommerce-Reviews__summary"},(0,r.createElement)("div",{className:"grid"},(0,r.createElement)("div",{className:"span-12 span-sm-6 span-lg-2"},(0,r.createElement)(d,f)),(0,r.createElement)("div",{className:"span-12 span-sm-6 span-lg-3 start-lg-7"},(0,r.createElement)(y,{average:u,verified:E,verifiedBadge:h})),(0,r.createElement)("div",{className:"span-12 span-lg-3 start-lg-10"},(0,r.createElement)(c,{rating:t,setRating:a,userData:i,options:e})),(0,r.createElement)("div",{className:"span-12 span-lg-4 start-lg-3",style:{gridRowStart:"mobile"===m?"initial":1}},(0,r.createElement)(w,(0,n.Z)({},f,{queryArgs:o,setQueryArgs:s})))))};var f=a(536);const{i18n:{__:_,_n:b,sprintf:k}}=wp,N=({totalResults:e=!1,onReset:t})=>!1!==e&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"has-accent-background-color",style:{padding:"1rem",borderRadius:".25rem"}},(0,r.createElement)("span",null,k(b("We found %s result for your filters.","We found %s results for your filters.",e,"glim-woocommerce"),e)),(0,r.createElement)("span",null,"   "),(0,r.createElement)("a",{href:"javascript:void(0);",onClick:t},_("Remove filters","glim-woocommerce")))),{i18n:{__:R,_n:A,sprintf:x},hooks:{applyFilters:C}}=wp,S=C("glimfse.woocommerce.reviews.sorting",{"":R("Recent","glim-woocommerce"),rating:R("Rating","glim-woocommerce"),likes:R("Popularity","glim-woocommerce")}),T=({queryArgs:e,setQueryArgs:t,loading:a,meta:{totalResults:o},options:s,breakpoint:c})=>{const{product:{ID:l,counts:m},actions:d=[],verified:p}=s;let u={5:0,4:0,3:0,2:0,1:0};u={...u,...m};const{handleSubmit:w,register:g,reset:v}=(0,f.cI)({mode:"onSubmit"}),h=e=>{const a={};for(const[t,n]of Object.entries(e))""!==n&&!1!==n&&(a[t]=n);t({product_id:l,...a})},y=()=>setTimeout(w(h),20),E={};a&&(E.pointerEvents="none",E.opacity=.65);const _=Object.keys(e).map((e=>["rating","verified","search"].includes(e))).filter(Boolean).pop();return!1===d?.like&&delete S.likes,(0,r.createElement)("form",{className:"woocommerce-Reviews__filters",onSubmit:w(h),name:"glim-woo-filters",style:E},(0,r.createElement)("div",{className:"has-border my-spacer"}),(0,r.createElement)("div",{className:"grid"},(0,r.createElement)("div",{className:"span-12 span-sm-6 span-lg-4"},(0,r.createElement)("div",{className:"input-group input-group-sm"},(0,r.createElement)("label",{class:"input-group-text",for:"filter-orderby"},R("Sort:","glim-woocommerce")),(0,r.createElement)("select",(0,n.Z)({className:"form-select",id:"filter-orderby"},g("orderby",{onChange:y})),Object.keys(S).map((e=>(0,r.createElement)("option",{value:e},S[e])))))),(0,r.createElement)("div",{className:"span-12 span-sm-6 span-lg-4"},(0,r.createElement)("div",{className:"input-group input-group-sm"},(0,r.createElement)("label",{class:"input-group-text",for:"filter-stars"},R("Filter:","glim-woocommerce")),(0,r.createElement)("select",(0,n.Z)({className:"form-select",id:"filter-stars"},g("rating",{onChange:y})),(0,r.createElement)("option",{value:""},R("All reviews","glim-woocommerce")),Array(5).fill().reverse().map(((e,t)=>{const a=5-t;return(0,r.createElement)("option",{disabled:0===u[a],value:a},x(A("%s star reviews","%s stars reviews",n=a,"glim-woocommerce"),n));var n}))))),(0,r.createElement)("div",{className:"span-12 span-sm-12 span-lg-4",style:{display:"flex",alignItems:"center"}},p&&(0,r.createElement)("div",{className:"input-group input-group-sm",style:{width:"auto",marginRight:15}},(0,r.createElement)("input",(0,n.Z)({className:"hidden",type:"checkbox",id:"filter-verified"},g("verified",{onChange:y}))),(0,r.createElement)("label",{className:"wp-element-button has-accent-background-color",for:"filter-verified"},(0,r.createElement)(i.Z,{icon:"verified"}),(0,r.createElement)("span",{style:{marginLeft:10,display:"mobile"===c?"none":"inline-block"}},R("Verified owner","glim-woocommerce")))),(0,r.createElement)("div",{className:"input-group input-group-sm"},(0,r.createElement)("input",(0,n.Z)({className:"form-control",type:"search",placeholder:R("Search in reviews","glim-woocommerce")},g("search",{onBlur({target:{value:a}}){""===a&&void 0!==e.search&&(delete e.search,t({...e}))}}))),(0,r.createElement)("button",{className:"wp-element-button wp-block-search__button has-accent-background-color",style:{lineHeight:1},type:"submit"},(0,r.createElement)("span",{className:"screen-reader-text sr-text sr-only"},R("Search in reviews","glim-woocommerce")),(0,r.createElement)("span",{className:"woocommerce-Reviews__icon woocommerce-Reviews__icon--search"}))))),(0,r.createElement)("div",{className:"has-border my-spacer"}),!a&&_?(0,r.createElement)(N,{totalResults:o,onReset:()=>(v(),y())}):null)},I=({icon:e=!1,label:t,children:a,...n})=>(n={className:"wp-element-button has-background has-black-color has-small-font-size",...n},(0,r.createElement)("button",n,e&&(0,r.createElement)(i.Z,{icon:e}),t&&(0,r.createElement)("span",{className:"wp-element-button__label"},t),a)),{element:{useState:q}}=wp,L=({review:e,options:t,likedReviews:a,setLikedReviews:n,userData:o})=>{const{id:s,likes:c}=e,{requestUrl:i}=t,l=a.includes(parseInt(s)),[m,d]=q(c),[p,u]=q(!1);let w={icon:l?"liked":"like",disabled:!0===p};if(o){const e=async()=>{if(p)return;u(!0);const e=new FormData;e.append("action","like"),e.append("review_id",s);try{const t=await fetch(i,{method:"POST",body:e}),{likes:r}=await t.json();d(r);const o=l?a.filter((e=>parseInt(e)!==parseInt(s))):[...a,s];n(o)}finally{u(!1)}};w={...w,onClick:e}}return(0,r.createElement)(I,w,(0,r.createElement)("span",{className:"count"},"(",m,")"))},{i18n:{__:F},hooks:{doAction:B},element:{useState:D}}=wp,Z=({addComment:e,setAddComment:t,productId:a,requestUrl:o})=>{const[s,c]=D(!1),[i,l]=D(!1),{handleSubmit:m,register:d,formState:{errors:p}}=(0,f.cI)({mode:"onSubmit",defaultValues:{comment:""}});return console.log(p),(0,r.createElement)(r.Fragment,null,i?(0,r.createElement)("div",{className:"has-accent-background-color my-spacer",style:{padding:"1rem",borderRadius:".25rem"}},(0,r.createElement)("p",null,i)):(0,r.createElement)("form",{className:"woocommerce-Reviews__comment",onSubmit:m((async n=>{if(s)return;const r=new FormData;r.append("action","comment"),r.append("product_id",a),r.append("parent",e),Object.keys(n).map((e=>r.append(e,n[e]))),c(!0);try{const e=await fetch(o,{method:"POST",body:r}),{message:t}=await e.json();return l(t)}finally{c(!1),setTimeout((()=>t(!1)),5e3)}})),name:"glim-woo-comment"},B("glimfse.woocommerce.reviews.newComment.top",d,p,a),(0,r.createElement)("div",{className:"position-relative my-spacer"},(0,r.createElement)("textarea",(0,n.Z)({className:"form-control",id:"comment",rows:"7",placeholder:F("Your comment","glim-woocommerce")},d("comment",{required:F("This cannot be empty!","glim-woocommerce"),minLength:20}))),p.comment&&(0,r.createElement)("em",{class:"invalid-feedback",style:{display:"block"}},"minLength"===p.comment.type?F("Comment is too short.","glim-woocommerce"):p.comment.message)),B("glimfse.woocommerce.reviews.newComment.bottom",d,p,a),(0,r.createElement)("button",{type:"submit",className:"wp-element-button has-primary-background-color",disabled:!0===s||!1===p.comment||p.comment},(0,r.createElement)("span",null,F(s?"Submitting...":"Add Comment","glim-woocommerce")))))},{i18n:{__:j}}=wp,O=({review:e,userData:t,onAddComment:a})=>{if(t){const{id:t}=e,n=()=>a(t);return(0,r.createElement)(I,{label:j("Add Comment","glim-woocommerce"),icon:"comment",onClick:n})}return null},M=({review:e,options:t,addComment:a,setAddComment:n})=>{const{id:o}=e,{product:{ID:s},requestUrl:c}=t;return a===o?(0,r.createElement)(Z,{addComment:a,setAddComment:n,productId:s,requestUrl:c}):null};var Q=a(110);const{i18n:{__:P},element:{useState:U,useEffect:z,lazy:G,Suspense:H}}=wp,V=G((()=>a.e(349).then(a.bind(a,121)))),W=({review:e,options:t,comments:a,setComments:n,loading:o,setLoading:s})=>{const{replies:c=[],id:i}=e,{requestUrl:l}=t,[m,d]=U(!1);if(z((()=>{if(m){const e=document.querySelector(`#review-${i}`);(0,Q.kI)(e)}d(!0)}),[a]),c.length){const e=async e=>{if(o)return;if(a.length){const t=e.currentTarget.parentNode.parentNode.querySelector(".woocommerce-Reviews__listing--comments");if(t)return void(t.style.display="none"===t?.style?.display?"block":"none")}const t=new FormData;t.append("action","query"),t.append("include",c),s(!0);try{const e=await fetch(l,{method:"POST",body:t}),{data:a}=await e.json();return n(a)}catch(e){console.warn(e),n([])}finally{s(!1)}};return(0,r.createElement)(I,{label:P("View Comments","glim-woocommerce"),icon:"comments",onClick:e},(0,r.createElement)("span",{className:"count"}," (",c.length,") "))}},$=({loading:e,comments:t,avatar:a})=>{if(t.length)return(0,r.createElement)(H,{fallback:(0,r.createElement)("div",null,"Loading...")},(0,r.createElement)(V,{comments:t,loading:e,avatar:a}))},{i18n:{__:K,sprintf:Y},hooks:{applyFilters:X},element:{useState:J}}=wp,ee=({review:e,options:t,userData:a=!1,addComment:o,setAddComment:s,onAddComment:c,likedReviews:m,setLikedReviews:d})=>{const{id:p,content:u,title:w="",date:g,rating:v,replies:h,verified:y,author:{name:E,avatar:f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mN89B8AAskB44g04okAAAAASUVORK5CYII="}}=e,{actions:_={like:!0,comment:!0},avatar:b}=t,k={review:e,options:t,userData:a},[N,R]=J([]),[A,x]=J(!1),C=[{key:(0,r.createElement)("like",null),Component:(0,r.createElement)(L,(0,n.Z)({},k,{likedReviews:m,setLikedReviews:d}))},{key:(0,r.createElement)("comments",null),Component:(0,r.createElement)(W,(0,n.Z)({},k,{loading:A,setLoading:x,comments:N,setComments:R})),After:(0,r.createElement)($,{loading:A,comments:A?Array(h.length).fill():N,avatar:b})},{key:(0,r.createElement)("comment",null),Component:(0,r.createElement)(O,(0,n.Z)({},k,{onAddComment:c})),After:(0,r.createElement)(M,(0,n.Z)({},k,{addComment:o,setAddComment:s}))}],S=Object.keys(_).filter((e=>!0===_[e]));let T=X("glimfse.woocommerce.reviews.actions",C,e,t,a);return T=T.filter((({key:{type:e}})=>!("comments"!==e||!S.includes("comment"))||S.includes(e))),(0,r.createElement)("div",{className:"woocommerce-Reviews__item has-border",id:`review-${p}`,key:p},(0,r.createElement)("div",{className:"grid",style:{paddingTop:"1rem",paddingBottom:"1rem"}},(0,r.createElement)("div",{className:"span-12 span-md-2 span-lg-3"},(0,r.createElement)("div",{className:"grid",style:{alignItems:"center"}},(0,r.createElement)("div",{className:"span-3 span-sm-2 span-md-12"},(0,r.createElement)("img",{width:65,src:"initials"===b?(0,Q.R4)((0,Q.Qm)(E),150):f,alt:Y(K("%s's Avatar","glim-woocommerce"),E)})),(0,r.createElement)("div",{className:"span-9 span-sm-10 span-md-12"},(0,r.createElement)("strong",{style:{display:"block"}},E),(0,r.createElement)("em",{className:"has-small-font-size has-cyan-bluish-gray-color"},(0,Q.p6)(g))))),(0,r.createElement)("div",{className:"span-12 span-md-10 span-lg-9 is-layout-flow"},(0,r.createElement)("div",{className:"woocommerce-Reviews__item-meta has-small-font-size"},w&&(0,r.createElement)("h5",{className:"woocommerce-Reviews__item-title"},(0,r.createElement)("strong",null,w)),(0,r.createElement)(l,{rating:v,className:"has-small-font-size"}),y&&(0,r.createElement)("span",{className:"woocommerce-Reviews__item-verified"},(0,r.createElement)(i.Z,{icon:"verified"}),(0,r.createElement)("em",{className:"has-cyan-bluish-gray-color"},K("Verified Purchase","glim-woocommerce")))),(0,r.createElement)("div",{className:"woocommerce-Reviews__item-content",dangerouslySetInnerHTML:{__html:u}}),T.length>0&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"woocommerce-Reviews__item-actions"},T.map((({Component:e=null})=>e))),T.reverse().map((({After:e=null})=>e))))))},{i18n:{__:te},element:{useEffect:ae,useState:ne}}=wp,re=({loading:e,queryArgs:t,setQueryArgs:a,totalPages:n})=>{const{page:o=1}=t,[s,c]=ne(!1),i=e=>a({...t,page:Math.min(Math.max(e,1),n)});ae((()=>{if(s){const e=document.forms["glim-woo-filters"];(0,Q.kI)(e)}c(!0)}),[o]);const l=({text:e})=>(0,r.createElement)("span",{class:"screen-reader-text"},e),m=(e=!1)=>{const t=e?o-1:o+1,a=[!0===e&&1===o?"disabled":""],s=[!1===e&&o===parseFloat(n)?"disabled":""],c=["woocommerce-Reviews__pagination-item","woocommerce-Reviews__pagination-item--"+(e?"prev":"next"),...a,...s].filter(Boolean),m=!0===e&&1===o||!1===e&&o===parseFloat(n),d={className:"woocommerce-Reviews__pagination-link",href:m?null:"javascript:void(0);",onClick:m?null:()=>i(t)},p=()=>(0,r.createElement)("span",{"aria-hidden":"true",dangerouslySetInnerHTML:{__html:e?"&laquo;":"&raquo;"}});return(0,r.createElement)("li",{className:c.join(" ")},m?(0,r.createElement)("span",d,(0,r.createElement)(p,null)," ",(0,r.createElement)(l,{text:te("Next page","glim-woocommerce")})):(0,r.createElement)("a",d,(0,r.createElement)(p,null)," ",(0,r.createElement)(l,{text:te("Previous page","glim-woocommerce")})))},d=()=>(0,r.createElement)("li",{className:"woocommerce-Reviews__pagination-item woocommerce-Reviews__pagination-item--dots"},(0,r.createElement)("span",{className:"woocommerce-Reviews__pagination-link"},"...",(0,r.createElement)(l,{text:te("dots","glim-woocommerce")}))),p=e=>{const t=parseFloat(e)===o,a={className:["woocommerce-Reviews__pagination-link",t?"has-primary-background-color":""].filter(Boolean).join(" "),href:t?null:"javascript:void(0);",onClick:t?null:()=>i(e),"aria-current":t?"page":null};return(0,r.createElement)("li",{className:["woocommerce-Reviews__pagination-item",t?"woocommerce-Reviews__pagination-item--current":""].filter(Boolean).join(" ")},t?(0,r.createElement)("span",a,(0,r.createElement)(l,{text:te("Page","glim-woocommerce")})," ",e):(0,r.createElement)("a",a,(0,r.createElement)(l,{text:te("Page","glim-woocommerce")})," ",e))},u={};return e&&(u.pointerEvents="none",u.opacity=.65),(0,r.createElement)("nav",{className:"woocommerce-Reviews__pagination","aria-label":te("Reviews pagination","glim-woocommerce")},(0,r.createElement)("ul",{className:"woocommerce-Reviews__pagination-list",style:u},m(!0),(()=>{let e=[];for(let t=Math.max(2,o-2);t<=Math.min(n-1,o+2);t++)e.push(p(t));return o+2<n-1&&e.push(d()),o-2>2&&e.unshift(d()),e.unshift(p(1)),e.push(p(n)),e})(),m()))},{url:{isValidFragment:oe},element:{useEffect:se,useState:ce}}=wp,ie=({loading:e,reviews:t=[],likedReviews:a=[],setLikedReviews:o,meta:s,queryArgs:c,setQueryArgs:i,userData:l,options:m,breakpoint:d})=>{const{amount:p}=m,{hash:u}=window.location,w=oe(u)&&u.split("-").pop(),[g,v]=ce(!1),h=e=>v(g!==e&&e);se((()=>{if(e)return;const t=document.getElementById(`review-${w}`);(0,Q.kI)(t)}),[e,w]);const{totalPages:y}=s,E="mobile"===d?'<svg\n\trole="img"\n\twidth="1024"\n\theight="460"\n\taria-labelledby="loading-aria"\n\tviewBox="0 0 1024 450"\n\tpreserveAspectRatio="none"\n\tstyle="width:100%;height:auto;"\n>\n\t<title id="loading-aria">Loading...</title>\n\t<rect\n\t\tx="0"\n\t\ty="0"\n\t\twidth="100%"\n\t\theight="100%"\n\t\tclip-path="url(#clip-path)"\n\t\tstyle=\'fill: url("#fill");\'\n\t></rect>\n\t<defs>\n\t\t<clipPath id="clip-path">\n\t\t\t<circle cx="100" cy="110" r="100"></circle>\n\t\t\t<rect x="265" y="50" rx="3" ry="3" width="380" height="25"></rect>\n\t\t\t<rect x="265" y="100" rx="3" ry="3" width="150" height="20"></rect>\n\t\t\t<rect x="0" y="240" rx="3" ry="3" width="500" height="20"></rect>\n\t\t\t<rect x="0" y="270" rx="3" ry="3" width="220" height="20"></rect>\n\t\t\t<rect x="0" y="320" rx="3" ry="3" width="980" height="20"></rect>\n\t\t\t<rect x="0" y="350" rx="3" ry="3" width="880" height="20"></rect>\n\t\t\t<rect x="0" y="400" rx="3" ry="3" width="400" height="20"></rect>\n\t\t</clipPath>\n\t\t<linearGradient id="fill">\n\t\t\t<stop\n\t\t\t\toffset="0.599964"\n\t\t\t\tstop-color="#f3f3f3"\n\t\t\t\tstop-opacity="1"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName="offset"\n\t\t\t\t\tvalues="-2; -2; 1"\n\t\t\t\t\tkeyTimes="0; 0.25; 1"\n\t\t\t\t\tdur="2s"\n\t\t\t\t\trepeatCount="indefinite"\n\t\t\t\t></animate>\n\t\t\t</stop>\n\t\t\t<stop\n\t\t\t\toffset="1.59996"\n\t\t\t\tstop-color="#ecebeb"\n\t\t\t\tstop-opacity="1"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName="offset"\n\t\t\t\t\tvalues="-1; -1; 2"\n\t\t\t\t\tkeyTimes="0; 0.25; 1"\n\t\t\t\t\tdur="2s"\n\t\t\t\t\trepeatCount="indefinite"\n\t\t\t\t></animate>\n\t\t\t</stop>\n\t\t\t<stop\n\t\t\t\toffset="2.59996"\n\t\t\t\tstop-color="#f3f3f3"\n\t\t\t\tstop-opacity="1"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName="offset"\n\t\t\t\t\tvalues="0; 0; 3"\n\t\t\t\t\tkeyTimes="0; 0.25; 1"\n\t\t\t\t\tdur="2s"\n\t\t\t\t\trepeatCount="indefinite"\n\t\t\t\t></animate>\n\t\t\t</stop>\n\t\t</linearGradient>\n\t</defs>\n</svg>':'<svg\n\trole="img"\n\twidth="1024"\n\theight="150"\n\taria-labelledby="loading-aria"\n\tviewBox="0 0 1024 150"\n\tpreserveAspectRatio="none"\n\tstyle="width:100%;height:auto;"\n>\n\t<title id="loading-aria">Loading...</title>\n\t<rect\n\t\tx="0"\n\t\ty="0"\n\t\twidth="100%"\n\t\theight="100%"\n\t\tclip-path="url(#clip-path)"\n\t\tstyle=\'fill: url("#fill");\'\n\t></rect>\n\t<defs>\n\t\t<clipPath id="clip-path">\n\t\t\t<circle cx="25" cy="40" r="25"></circle>\n\t\t\t<rect x="0" y="100" rx="3" ry="3" width="150" height="8"></rect>\n\t\t\t<rect x="0" y="115" rx="3" ry="3" width="75" height="6"></rect>\n\t\t\t<rect x="265" y="15" rx="3" ry="3" width="400" height="10"></rect>\n\t\t\t<rect x="265" y="35" rx="3" ry="3" width="75" height="8"></rect>\n\t\t\t<rect x="355" y="35" rx="3" ry="3" width="130" height="8"></rect>\n\t\t\t<rect x="265" y="65" rx="3" ry="3" width="750" height="6"></rect>\n\t\t\t<rect x="265" y="80" rx="3" ry="3" width="680" height="6"></rect>\n\t\t\t<rect x="265" y="95" rx="3" ry="3" width="630" height="6"></rect>\n\t\t\t<rect x="265" y="110" rx="3" ry="3" width="130" height="6"></rect>\n\t\t</clipPath>\n\t\t<linearGradient id="fill">\n\t\t\t<stop\n\t\t\t\toffset="0.599964"\n\t\t\t\tstop-color="#f3f3f3"\n\t\t\t\tstop-opacity="1"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName="offset"\n\t\t\t\t\tvalues="-2; -2; 1"\n\t\t\t\t\tkeyTimes="0; 0.25; 1"\n\t\t\t\t\tdur="2s"\n\t\t\t\t\trepeatCount="indefinite"\n\t\t\t\t></animate>\n\t\t\t</stop>\n\t\t\t<stop\n\t\t\t\toffset="1.59996"\n\t\t\t\tstop-color="#ecebeb"\n\t\t\t\tstop-opacity="1"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName="offset"\n\t\t\t\t\tvalues="-1; -1; 2"\n\t\t\t\t\tkeyTimes="0; 0.25; 1"\n\t\t\t\t\tdur="2s"\n\t\t\t\t\trepeatCount="indefinite"\n\t\t\t\t></animate>\n\t\t\t</stop>\n\t\t\t<stop\n\t\t\t\toffset="2.59996"\n\t\t\t\tstop-color="#f3f3f3"\n\t\t\t\tstop-opacity="1"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName="offset"\n\t\t\t\t\tvalues="0; 0; 3"\n\t\t\t\t\tkeyTimes="0; 0.25; 1"\n\t\t\t\t\tdur="2s"\n\t\t\t\t\trepeatCount="indefinite"\n\t\t\t\t></animate>\n\t\t\t</stop>\n\t\t</linearGradient>\n\t</defs>\n</svg>';return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"woocommerce-Reviews__listing is-layout-flow"},e&&Array(parseInt(p)).fill().map(((e,t)=>(0,r.createElement)("div",{key:t,dangerouslySetInnerHTML:{__html:E}}))),!e&&t.map((e=>(0,r.createElement)(ee,{review:e,likedReviews:a,setLikedReviews:o,userData:l,addComment:g,onAddComment:h,setAddComment:v,options:m})))),y>1&&(0,r.createElement)(re,(0,n.Z)({},s,{loading:e,queryArgs:c,setQueryArgs:i})))};var le=a(386),me=a(919);const{element:{useState:de,useEffect:pe,lazy:ue,Suspense:we}}=wp,ge=ue((()=>a.e(948).then(a.bind(a,354)))),ve=(0,me.Z)({mobile:0,laptop:992}),he=e=>{const{headline:t=!1,container:a="#reviews",product:{ID:o,total:s},requestUrl:c,actions:i}=e,[l,m]=de(!1),[d,p]=de(!1),[u,w]=de(!1),[g,v]=de([]),[h,y]=de({product_id:o,action:"query"}),{loading:f,data:_,meta:b}=(0,le.Q)({queryArgs:h});pe((()=>{u||(async()=>{const e=new FormData;e.append("action","user");try{const t=await fetch(c,{method:"POST",body:e}),{token:a,status:n,liked:r}=await t.json();if(n){const[e,t]=atob(a).split(":");w({reviewer:e,reviewer_email:t,liked:r}),v(r)}}catch(e){console.warn(e)}})()}),[u]),pe((()=>{if(l){const e=document.querySelector(a);(0,Q.kI)(e)}m(!0)}),[d]);const k=ve(),N={options:e,rating:d,setRating:p,queryArgs:h,setQueryArgs:y,userData:u,breakpoint:k},R={options:e,loading:f,meta:b,queryArgs:h,setQueryArgs:y,breakpoint:k},A={...R,reviews:_,likedReviews:g,setLikedReviews:v,userData:u,actions:i};return(0,r.createElement)(r.Fragment,null,t&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("h2",{className:"woocommerce-Reviews__headline"},t),(0,r.createElement)("div",{className:"has-border my-spacer"})),"number"==typeof d&&(0,r.createElement)(we,{fallback:(0,r.createElement)("div",null,"Loading...")},(0,r.createElement)(ge,N)),"boolean"==typeof d&&(0,r.createElement)(E,(0,n.Z)({},N,{meta:b})),s>0&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(T,R),(0,r.createElement)(ie,A)))}},110:(e,t,a)=>{a.d(t,{Dq:()=>c,Qm:()=>o,R4:()=>s,kI:()=>r,p6:()=>n});const n=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}),r=e=>{if(e){const t=document.querySelector(".wp-site-header.sticky-top"),a=window.scrollY+e.getBoundingClientRect().top-10-(t?t.clientHeight:0);window.scrollTo({top:a,behavior:"smooth"})}},o=e=>e?e.trim().split(" ").map((e=>e[0].toUpperCase())).join(""):"AN",s=(e,t=100,a="#007bff")=>{const n=document.createElement("canvas");n.width=t,n.height=t;const r=n.getContext("2d");r.fillStyle=a,r.fillRect(0,0,n.width,n.height),r.font=t/2.5+"px Arial",r.fillStyle="#ffffff";const o=r.measureText(e),s=(n.width-o.width)/2,c=(n.height+t/4)/2.5+t/4-o.actualBoundingBoxAscent/2.5;return r.fillText(e,s,c),n.toDataURL()},c=(e="",t={})=>{const a=/{{([^}]+)}}/g;let n;for(;n=a.exec(e);){const a=n[1],o=(r=t,a.trim().split(/\.|\|/).reduce(((e,t)=>e?.[t]),r));void 0!==o&&(e=e.replace(new RegExp(`{{${a}}}`,"g"),o))}var r;return e}},386:(e,t,a)=>{a.d(t,{Q:()=>d,X:()=>p});const{element:{useEffect:n,useState:r,useRef:o,useReducer:s}}=wp,{requestUrl:c,product:{total:i}}=wpBlockWooReviews,l={MAKE_REQUEST:"make-request",SET_META:"set-meta",GET_REVIEWS:"get-reviews",GET_COMMENTS:"get-comments",ERROR:"error"};function m(e,t){const{type:a,payload:n}=t;switch(a){case l.MAKE_REQUEST:return{...e,loading:!0,data:[],meta:{}};case l.SET_META:const{meta:t}=n;return{...e,meta:t};case l.GET_REVIEWS:case l.GET_COMMENTS:const{data:a}=n;return{...e,loading:!1,data:a};case l.ERROR:const{error:r}=n;return{...e,loading:!1,data:[],error:r};default:return e}}function d({path:e=c,queryArgs:t={},action:a="GET_REVIEWS"},r=i){const[o,d]=s(m,{data:[],meta:{},loading:!1,error:!1}),p=new FormData;return p.append("action","query"),Object.keys(t).map((e=>p.append(e,t[e]))),n((()=>{0!==r&&(d({type:l.MAKE_REQUEST}),fetch(e,{method:"POST",body:p,parse:!0}).then((e=>e.json())).then((({meta:e,data:t})=>{d({type:l.SET_META,payload:{meta:e}}),d({type:l[a],payload:{data:t}})})).catch((e=>{d({type:l.ERROR,payload:{error:e}})})).finally((()=>{})))}),[t,i]),o}function p(){const[e,t]=r(!1),a=o(null),s=e=>t(e.target),c=()=>t(!1);return n((()=>{const e=a.current;if(e)return e.addEventListener("mouseover",s),e.addEventListener("mouseout",c),e.addEventListener("touchstart",s),e.addEventListener("touchend",c),()=>{e.removeEventListener("mouseover",s),e.removeEventListener("mouseout",c),e.removeEventListener("touchstart",s),e.removeEventListener("touchend",c)}}),[a.current]),[a,e]}},550:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(462),r=a(307);const o=({icon:e="default",...t})=>(0,r.createElement)("span",(0,n.Z)({className:`woocommerce-Reviews__icon woocommerce-Reviews__icon--${e}`,role:"img"},t))},515:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(307),r=a(386),o=a(550);const{i18n:{__},hooks:{applyFilters:s},element:{useEffect:c,useState:i}}=wp,l=s("glimfse.woocommerce.reviews.rating.labels",{1:__("Not recommended","glim-woocommerce"),2:__("Weak","glim-woocommerce"),3:__("Acceptable","glim-woocommerce"),4:__("Good","glim-woocommerce"),5:__("Excelent","glim-woocommerce")}),m=({rating:e=0,onClick:t,children:a})=>{const[s,m]=(0,r.X)(),[d,p]=i(""),u=m&&m.closest("[aria-label]")?.getAttribute("aria-label");return c((()=>{e&&p(l[e])}),[e]),(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"woocommerce-Reviews__rating woocommerce-Reviews__rating--input"},(0,n.createElement)("div",{className:"woocommerce-Reviews__rating-range",ref:s},Object.entries(l).reverse().map((a=>{const[r,s]=a;return(0,n.createElement)("button",{className:["has-background",parseInt(r)===parseInt(e)?"active":""].filter(Boolean).join(" "),type:"button",onClick:e=>t(parseFloat(r),e),"aria-label":s},(0,n.createElement)(o.Z,{icon:"rating"}),(0,n.createElement)("span",{className:"screen-reader-text"},s))}))),(0,n.createElement)("strong",{className:"woocommerce-Reviews__rating-hover"},u||d||__("Your rating","glim-woocommerce")),a))}}}]);